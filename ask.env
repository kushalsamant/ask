# === Text Generation ===
TEXT_PROVIDER=together                     # together (free models available)
TEXT_MODEL=meta-llama/Llama-3.3-70B-Instruct-Turbo-Free  # Free Together.ai model for text generation

# Enhanced System Prompt for Prompt Generation
PROMPT_SYSTEM="You are a visionary architectural writer and provocateur with deep expertise in architectural history, theory, and contemporary practice. Your knowledge spans from ancient architectural traditions to cutting-edge computational design, encompassing structural engineering, material science, cultural anthropology, environmental sustainability, urban planning, landscape architecture, digital fabrication, philosophy of space, phenomenology, global architectural traditions, vernacular building, lighting design, acoustic design, thermal comfort, passive design strategies, accessibility, universal design principles, heritage conservation, adaptive reuse, parametric design, algorithmic architecture, biomimicry, nature-inspired design, social impact, community engagement, economic feasibility, construction methods, regulatory compliance, building codes, post-occupancy evaluation, user experience, and cross-cultural architectural exchange. You create compelling, artistic image prompts that capture the essence of architectural concepts with vivid, poetic language, considering multiple scales from urban context to material detail, balancing technical precision with artistic expression, and emphasizing the emotional and psychological impact of architectural spaces on human experience."

# Enhanced Prompt Template
PROMPT_TEMPLATE="Generate exactly {n} architectural image prompts on theme: '{theme}'. Each prompt should be a single, evocative line (50-100 words) that describes a visual scene with artistic flair, focusing on architectural poetry, mood, and atmosphere. Include specific architectural elements, materials, lighting, and spatial qualities. Consider cultural, historical, and philosophical context. Emphasize emotional resonance and visual impact. Use vivid, descriptive language that captures architectural essence. Balance technical precision with artistic expression. Consider the relationship between form, function, and human experience. Explore themes of permanence, transience, and transformation. Reflect on the relationship between built and natural environments. Consider multiple scales from urban context to material detail. Emphasize the emotional and psychological impact of architectural spaces. Generate the prompts now, one per line, without explanations or numbering:"

# Enhanced System Prompt for Caption Generation
CAPTION_SYSTEM="You are a masterful architectural poet and critic with comprehensive expertise in architectural theory, history, philosophy, and contemporary practice. Your knowledge encompasses structural engineering, material science, cultural anthropology, environmental sustainability, urban planning, landscape architecture, digital fabrication, philosophy of space, phenomenology, global architectural traditions, vernacular building, lighting design, acoustic design, thermal comfort, passive design strategies, accessibility, universal design principles, heritage conservation, adaptive reuse, parametric design, algorithmic architecture, biomimicry, nature-inspired design, social impact, community engagement, economic feasibility, construction methods, regulatory compliance, building codes, post-occupancy evaluation, user experience, and cross-cultural architectural exchange. You write profound, artistic captions that capture the deeper meaning and emotional resonance of architectural spaces, considering multiple scales from urban context to material detail, balancing technical precision with artistic expression, and emphasizing the emotional and psychological impact of architectural spaces on human experience."

# Enhanced Caption Template
CAPTION_TEMPLATE="Write exactly 6 lines, each containing exactly 6 words, that form a complete, meaningful caption for this architectural image: {prompt}. Each line must be exactly 6 words, total of exactly 6 lines, form a coherent narrative about the architectural space, capture the philosophical, emotional, and cultural significance, consider the relationship between form, function, and human experience, balance technical precision with artistic expression, emphasize the emotional and psychological impact of architectural spaces, consider multiple scales from urban context to material detail, reflect on the relationship between built and natural environments, explore themes of permanence, transience, and transformation, consider cultural significance and historical context, explore the relationship between individual and collective experience, reflect on the role of architecture in society, consider the relationship between tradition and innovation, explore themes of sustainability and environmental responsibility, reflect on the relationship between local and global influences, consider the role of craftsmanship and detail, explore themes of beauty, harmony, and aesthetic experience, reflect on the relationship between art and architecture, consider the role of light, shadow, and atmosphere, and explore themes of human creativity and expression. Write the 6-line caption now:"

# === Providers & API Keys ===
# Groq API (for text generation)
GROQ_API_BASE=https://api.groq.com/openai/v1
GROQ_API_KEY=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

# Together AI (for testing image models)
TOGETHER_API_BASE=https://api.together.xyz/v1
TOGETHER_API_KEY=099d2d219ceb4c95c7f32468e3259670b27bc7444493eb0ce6de2b0b4fec1b38

# === Image Generation (Together.ai) ===
IMAGE_PROVIDER=together
IMAGE_MODEL=black-forest-labs/FLUX.1-schnell-free  # Free FLUX.1 model for cost optimization
IMAGE_WIDTH=1024
IMAGE_HEIGHT=1024
IMAGE_DPI=300
INFERENCE_STEPS=4  # Fixed: FLUX.1-schnell-free max is 4 steps
GUIDANCE_SCALE=7.5

# === Web Scraping Configuration ===
WEB_SCRAPER_DELAY=2.0
WEB_SCRAPER_MAX_SOURCES=10
MANUAL_SOURCES_FILE=manual_sources.txt
SCRAPED_CONTENT_DIR=scraped_content

# === Source Discovery Configuration ===
DISCOVERER_DELAY=3.0
MAX_SOURCES_PER_DAY=3
DAILY_DISCOVERY_ENABLED=true

# === Source Configuration ===
# Daily source addition settings
DAILY_SOURCE_ADDITION_ENABLED=true
MAX_SOURCES_PER_DAY=1
SOURCE_CATEGORIES=News,Academic,Research,Innovation,Regional

# Predefined architectural sources (comma-separated)
PREDEFINED_SOURCES=AA School of Architecture|https://www.aaschool.ac.uk/feed|Academic,Berlage Institute|https://theberlage.nl/feed|Academic,TU Delft Architecture|https://www.tudelft.nl/en/architecture-and-the-built-environment/feed|Academic,UCL Bartlett|https://www.ucl.ac.uk/bartlett/feed|Academic,Cornell Architecture|https://aap.cornell.edu/feed|Academic,Princeton Architecture|https://soa.princeton.edu/feed|Academic,UC Berkeley Architecture|https://ced.berkeley.edu/architecture/feed|Academic,Architectural Review Asia Pacific|https://www.architectural-review.com/feed|International,Architecture Australia|https://architectureau.com/feed|International,Canadian Architect|https://www.canadianarchitect.com/feed|International,Architectural Digest India|https://www.architecturaldigest.in/feed|International,Architectural Digest Middle East|https://www.architecturaldigestme.com/feed|International,Architectural Digest China|https://www.architecturaldigest.cn/feed|International,Architectural Science Review|https://www.tandfonline.com/feed/rss/rjar20|Research,Journal of Architectural Education|https://www.tandfonline.com/feed/rss/rjae20|Research,Architecture Research Quarterly|https://www.cambridge.org/core/journals/architecture-research-quarterly/feed|Research,International Journal of Architectural Computing|https://journals.sagepub.com/feed/ijac|Research,Archinect|https://archinect.com/feed|Innovation,Architecture Lab|https://www.architecturelab.net/feed|Innovation,Architecture Now|https://architecturenow.co.nz/feed|Innovation,Architecture & Design|https://www.architectureanddesign.com.au/feed|Innovation,Architect Magazine|https://www.architectmagazine.com/rss|Regional,Architecture Week|https://www.architectureweek.com/feed|Regional,Architecture Foundation|https://architecturefoundation.org.uk/feed|Emerging,Architectural League|https://archleague.org/feed|Emerging,Storefront for Art and Architecture|https://storefrontnews.org/feed|Emerging,Architecture for Humanity|https://architectureforhumanity.org/feed|Emerging,Digital Architecture|https://digitalarchitecture.org/feed|Digital,Computational Architecture|https://computationalarchitecture.net/feed|Digital,Parametric Architecture|https://parametric-architecture.com/feed|Digital,Architecture and Computation|https://architectureandcomputation.com/feed|Digital



# === Performance Optimization (Real Rate Limit) ===
# DISCOVERED: meta-llama/Llama-3.3-70B-Instruct-Turbo-Free limit = 6.0 queries/minute
# Ultra-conservative settings with 20 second delays
MAX_CONCURRENT_IMAGES=1
MAX_CONCURRENT_CAPTIONS=1
RATE_LIMIT_DELAY=20.0
SKIP_CAPTION_DEDUPLICATION=false
FAST_MODE=false
SKIP_WEB_SCRAPING=false
SKIP_THEME_GENERATION=false
SKIP_PROMPT_GENERATION=false
SKIP_PDF_CREATION=false
CACHE_ENABLED=true
PRELOAD_STYLES=true
BATCH_PROCESSING=false
OPTIMIZE_MEMORY=true

# === System Configuration ===
LOG_DIR=logs
CACHE_DIR=cache
CAPTIONS_DIR=captions
IMAGES_DIR=images
DAILY_PDFS_DIR=daily_pdfs
EXISTING_FEEDS_FILE=existing_architectural_feeds.json

# === API Configuration ===
TOGETHER_API_URL=https://api.together.xyz/v1/images/generations
GROQ_API_URL=https://api.groq.com/openai/v1/chat/completions

# === Retry Configuration ===
LLM_MAX_RETRIES=3
IMAGE_MAX_RETRIES=3
LLM_RETRY_DELAYS=60,120,180
IMAGE_RETRY_DELAYS=60,120,180

# === PDF Configuration ===
PDF_FONT_SIZE=14
PDF_LINE_SPACING=18
PDF_PADDING_X=24
PDF_PADDING_Y=16
PDF_TOP_PADDING=40
PDF_BAND_Y=0
PDF_BAND_X=0

# === Processing Configuration (Real Rate Limit) ===
BATCH_SIZE=5
CAPTION_MAX_ATTEMPTS=5
CAPTION_SIMILARITY_THRESHOLD=0.3
TEST_IMAGE_COUNT=3

# === Real Rate Limit Performance Notes ===
# DISCOVERED: meta-llama/Llama-3.3-70B-Instruct-Turbo-Free = 6.0 queries/minute
# RATE_LIMIT_DELAY=20.0 (20000ms) = 3.0 requests/minute (ultra-conservative)
# MAX_CONCURRENT_IMAGES=1 = Sequential processing to avoid overwhelming API
# MAX_CONCURRENT_CAPTIONS=1 = Sequential processing to avoid overwhelming API
# Estimated time for 50 images + 50 captions: ~33.3 minutes (100 requests × 20s)
# This ensures we NEVER hit rate limits with maximum safety

# === Ultra Mode Configuration (Real Rate Limit) ===
ULTRA_MODE_DELAY=20.0
ULTRA_MODE_CONCURRENT_IMAGES=1
ULTRA_MODE_CONCURRENT_CAPTIONS=1

# === Fast Mode Configuration (Real Rate Limit) ===
FAST_MODE_DELAY=20.0

# === Caption Configuration ===
CAPTION_LINE_COUNT=6
CAPTION_WORDS_PER_LINE=6